<!-- Table Header -->
<div class="curriculum-header-container" [@fadeAnimation]>
  <app-table-header
    [inputFields]="headerInputFields"
    [addButtonLabel]="'Manage Programs'"
    [addIconName]="'apps'"
    [showExportDialog]="true"
    [customExportOptions]="customExportOptions"
    (export)="onExport($event)"
    (inputChange)="onInputChange($event)"
    (add)="onManagePrograms()"
    [selectedValues]="{ program: selectedProgram, yearLevel: selectedYear }"
  ></app-table-header>
</div>

@if (showPreview) {
  <div class="pdf-preview-container">
    <button mat-button (click)="cancelPreview()">Cancel Preview</button>
    <iframe id="pdfPreview" width="100%" height="600px"></iframe>
  </div>
}

@if (loading) {
<app-loading></app-loading>
} @else {
<div class="curriculum-detail-container">
  @for (semester of selectedSemesters; track semester.semester; let i = $index)
  {
  <div class="semester-container" [@pageFloatUpAnimation]>
    <app-table-generic
      [columns]="columns"
      [data]="semester.courses"
      [tableName]="'course/s'"
      [displayedColumns]="displayedColumns"
      [showTableHeading]="true"
      [tableHeadingTitle]="getSemesterDisplay(semester.semester)"
      [tableHeadingButtonText]="'Add Course'"
      [tableHeadingButtonIcon]="'add'"
      (tableHeadingButtonClick)="onAddCourse(semester)"
      (edit)="onEditCourse($event, semester)"
      (delete)="onDeleteCourse($event)"
    ></app-table-generic>
  </div>
  }
</div>
}
