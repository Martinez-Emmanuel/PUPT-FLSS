<div class="dialog-view-schedule-container">
  <!-- Loading state -->
  @if (isLoading) {
  <div class="loading-wrapper">
    <app-loading></app-loading>
  </div>
  } @else {
  <!-- Schedule Title -->
  <div class="entity-info" [@fadeAnimation]>
    <!-- Schedule Title Container -->
    <div class="schedule-title">
      <h2 class="dialog-title">{{ title }}</h2>
      <span class="dialog-subtitle">{{ subtitle }}</span>
    </div>
    <!-- Schedule Badge -->
    <div class="schedule-badge">
      <span class="badge-text">
        <span mat-symbol="date_range"></span>Official Schedule
      </span>
    </div>
  </div>

  <!-- Multiple Schedule -->
  @if (scheduleGroups && scheduleGroups.length > 0) {
  <div class="multiple-schedules-container">
    @for (group of scheduleGroups; track group) {
    <div class="schedule-group">
      <h3 class="group-title">{{ group.title }}</h3>
      <app-schedule-timeline
        [scheduleData]="group.scheduleData"
        [entity]="data.entity"
      ></app-schedule-timeline>
    </div>
    }
  </div>
  }

  <!-- Single Schedule -->
  @if (!scheduleGroups) {
  <div class="single-schedule-container" [@fadeAnimation]>
    <app-schedule-timeline
      [scheduleData]="scheduleData"
      [entity]="data.entity"
    ></app-schedule-timeline>
  </div>
  }

  <!-- Action buttons -->
  <div class="dialog-actions" [@fadeAnimation]>
    <button mat-button class="close-button" (click)="closeDialog()">
      Close
    </button>
  </div>
  }
</div>
