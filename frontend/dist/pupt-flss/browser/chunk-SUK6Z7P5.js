import{a as n}from"./chunk-SB5MWYDA.js";import{a as l}from"./chunk-EMZRNCIP.js";import{a as s,c as a}from"./chunk-DKHW3YWA.js";import{Z as r,ca as c}from"./chunk-NSU275EB.js";var y=(()=>{class o{http;cookieService;baseUrl=l.apiUrl;constructor(e,i){this.http=e,this.cookieService=i}login(e,i){let t={code:e,password:i};return this.http.post(`${this.baseUrl}/login`,t)}logout(){let e=this.cookieService.get("token"),i=new s({Authorization:`Bearer ${e}`});return this.http.post(`${this.baseUrl}/logout`,{},{headers:i})}setToken(e,i){let t=new Date(i);this.cookieService.set("token",e,t,"/")}getToken(){return this.cookieService.get("token")}setUserInfo(e,i){let t=new Date(i);this.cookieService.set("user_id",e.id,t,"/"),this.cookieService.set("user_name",e.name,t,"/"),this.cookieService.set("user_code",e.code,t,"/"),this.cookieService.set("user_role",e.role,t,"/"),e.faculty&&(this.cookieService.set("faculty_id",e.faculty.faculty_id,t,"/"),this.cookieService.set("faculty_email",e.faculty.faculty_email,t,"/"),this.cookieService.set("faculty_type",e.faculty.faculty_type,t,"/"),this.cookieService.set("faculty_units",e.faculty.faculty_units,t,"/"))}clearCookies(){this.cookieService.deleteAll("/")}static \u0275fac=function(i){return new(i||o)(c(a),c(n))};static \u0275prov=r({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{y as a};
