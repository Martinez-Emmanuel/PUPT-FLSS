import{a as le,b as de,c as me,d as ge,e as pe,f as ve,g as ue,h as _e,i as Me,j as Ce,k as Oe}from"./chunk-QZETGUY6.js";import{a as ce,b as se}from"./chunk-6AWQUBPH.js";import"./chunk-VMH4ILIM.js";import{a as f}from"./chunk-XOQFDSMO.js";import{a as X,b as Z}from"./chunk-JLIX64RS.js";import{c as te}from"./chunk-VORQTW3B.js";import"./chunk-FVBRAVME.js";import{b as ne,c as ie}from"./chunk-L2D7AHNW.js";import"./chunk-POHCU53O.js";import{a as ae}from"./chunk-RIFQ5WEN.js";import{a as oe,b as re}from"./chunk-6QI4QBU5.js";import"./chunk-DXFFT4B6.js";import{a as ee}from"./chunk-UJ255QIO.js";import{V as Y,W as J,t as Q,u as q}from"./chunk-MXV4M2BO.js";import"./chunk-4N6BO7AP.js";import{a as W}from"./chunk-SUK6Z7P5.js";import{a as b,b as N,c as V,d as $,e as F,f as U,h as G}from"./chunk-RU375CWH.js";import"./chunk-KXJUWRJT.js";import{a as K}from"./chunk-SB5MWYDA.js";import"./chunk-EMZRNCIP.js";import"./chunk-DKHW3YWA.js";import{k as B,r as z,t as H}from"./chunk-2T5SWUVG.js";import{$b as E,Cb as e,Db as n,Eb as o,Ib as T,Nb as v,P as y,Pb as O,Tb as I,Ub as A,Vb as R,Wa as s,Xa as m,Zb as r,_b as P,da as k,gc as j,ha as x,ic as D,mb as M,mc as l,nc as d,p as h,qa as w,qb as L,ra as S,rb as p,xb as C,z as _}from"./chunk-NSU275EB.js";import"./chunk-ODN5LVDJ.js";var he=["drawer"],ye=c=>({"reports-view":c});function ke(c,Pe){if(c&1&&(e(0,"mat-sidenav",2,0),l(2,"async"),l(3,"async"),l(4,"async"),e(5,"div",24),o(6,"img",25),e(7,"div",26)(8,"div",27),r(9,"PUP TAGUIG"),n(),e(10,"div",28),r(11,"FACULTY LOADING"),o(12,"br"),r(13,"& SCHEDULING"),n()()(),e(14,"mat-nav-list",29)(15,"a",30),o(16,"span",31),e(17,"span",32),r(18,"Overview"),n()(),e(19,"a",33),o(20,"span",34),e(21,"span",32),r(22,"Faculty Preferences"),n()(),e(23,"a",35),o(24,"span",36),e(25,"span",32),r(26,"Academic Years"),n()(),e(27,"a",37),o(28,"span",38),e(29,"span",32),r(30,"Scheduling"),n()(),e(31,"a",39),o(32,"span",40),e(33,"span",32),r(34,"Official Reports"),n()(),e(35,"a",41),o(36,"span",42),e(37,"span",32),r(38,"Help"),n()()()()),c&2){let t=O();p("@slideInAnimation",void 0)("mode",d(2,4,t.isHandset$)?"push":"side")("opened",d(3,6,t.isHandset$)===!1),L("role",d(4,8,t.isHandset$)?"dialog":"navigation")}}function xe(c,Pe){if(c&1){let t=T();e(0,"div",5)(1,"button",43),v("click",function(){w(t);let i=O();return S(i.drawer.toggle())}),e(2,"mat-icon",44),r(3,"menu"),n()()()}}var ot=(()=>{class c{themeService;router;route;authService;dialog;cookieService;drawer;isReportsView=!1;breakpointObserver=k(Q);showSidenav=!1;pageTitle="";accountName;accountRole;isHandset$=this.breakpointObserver.observe(q.Handset).pipe(h(t=>t.matches),y());constructor(t,a,i,g,be,fe){this.themeService=t,this.router=a,this.route=i,this.authService=g,this.dialog=be,this.cookieService=fe,this.accountName=this.cookieService.get("user_name"),this.accountRole=this.toTitleCase(this.cookieService.get("user_role")),this.router.events.pipe(_(u=>u instanceof b)).subscribe(u=>{this.isReportsView=u.urlAfterRedirects.includes("/reports")})}ngOnInit(){this.router.events.pipe(_(t=>t instanceof b)).subscribe(()=>this.setPageTitle()),this.setPageTitle()}ngAfterViewInit(){setTimeout(()=>this.showSidenav=!0,0)}toggleTheme(){this.themeService.toggleTheme()}toTitleCase(t){return t.charAt(0).toUpperCase()+t.slice(1)}setPageTitle(){let t=this.route.snapshot.firstChild?.data.pageTitle;this.pageTitle=t}logout(){this.dialog.open(f,{data:{title:"Log Out",content:"Are you sure you want to log out? This will end your current session.",actionText:"Log Out",cancelText:"Cancel",action:"Log Out"},disableClose:!0,panelClass:"dialog-base"}).afterClosed().subscribe(a=>{a==="Log Out"&&this.showLoadingAndLogout()})}showLoadingAndLogout(){let t=this.dialog.open(f,{data:{title:"Logging Out",content:"Currently logging you out...",showProgressBar:!0},disableClose:!0});this.authService.logout().subscribe({next:()=>{this.cookieService.deleteAll("/"),t.close(),this.router.navigate(["/login"])},error:a=>{console.error("Logout failed",a),t.close()}})}static \u0275fac=function(a){return new(a||c)(m(ae),m($),m(N),m(W),m(te),m(K))};static \u0275cmp=x({type:c,selectors:[["app-main"]],viewQuery:function(a,i){if(a&1&&I(he,5),a&2){let g;A(g=R())&&(i.drawer=g.first)}},standalone:!0,features:[j],decls:31,vars:19,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav-bar",3,"mode","opened"],[1,"sidenav-content"],[1,"main-toolbar"],[1,"toggle-button-container"],[1,"sidenav-header"],[1,"title-container"],[1,"page-title"],[1,"admin-panel"],[1,"admin-settings"],["matRipple","",1,"panel-button","theme",3,"click","matTooltip"],[3,"mat-symbol","ngClass"],["matTooltip","Settings","matRipple","",1,"panel-button","settings"],["mat-symbol","settings"],["matTooltip","Log out","matRipple","",1,"panel-button","logout",3,"click"],["mat-symbol","door_open"],[1,"admin-account"],[1,"account-text"],[1,"account-name"],[1,"account-role"],[1,"profile-dropdown"],["src","../../../../../assets/images/default_admin_icon.png","alt","Profile Icon",1,"profile-icon"],[1,"sidenav-main",3,"ngClass"],[1,"side-toolbar"],["src","../../../../../assets/images/pup_taguig_logo.svg","alt","PUP Taguig Logo",1,"side-toolbar-img"],[1,"header-name"],[1,"university-name"],[1,"system-name"],[1,"navbar-list"],["mat-list-item","","routerLink","/admin/overview","routerLinkActive","active-link",1,"list-item"],["mat-symbol","dashboard","matListItemIcon",""],["matListItemTitle",""],["mat-list-item","","routerLink","/admin/faculty-preferences","routerLinkActive","active-link",1,"list-item"],["mat-symbol","groups","matListItemIcon",""],["mat-list-item","","routerLink","/admin/academic-years","routerLinkActive","active-link",1,"list-item"],["mat-symbol","date_range","matListItemIcon",""],["mat-list-item","","routerLink","/admin/scheduling","routerLinkActive","active-link",1,"list-item"],["mat-symbol","schedule","matListItemIcon",""],["mat-list-item","","routerLink","/admin/reports","routerLinkActive","active-link",1,"list-item"],["mat-symbol","bar_chart","matListItemIcon",""],["mat-list-item","","routerLink","/admin/help","routerLinkActive","active-link",1,"list-item"],["mat-symbol","help","matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button","",1,"toggle-button",3,"click"],["aria-label","Side nav toggle icon"]],template:function(a,i){a&1&&(e(0,"mat-sidenav-container",1),M(1,ke,39,10,"mat-sidenav",2),e(2,"mat-sidenav-content",3)(3,"mat-toolbar",4),M(4,xe,4,0,"div",5),l(5,"async"),e(6,"header",6)(7,"div",7)(8,"h1",8),r(9),n()(),e(10,"div",9)(11,"div",10)(12,"div",11),l(13,"async"),v("click",function(){return i.toggleTheme()}),o(14,"span",12),l(15,"async"),l(16,"async"),n(),e(17,"div",13),o(18,"span",14),n(),e(19,"div",15),v("click",function(){return i.logout()}),o(20,"span",16),n()(),e(21,"div",17)(22,"div",18)(23,"div",19),r(24),n(),e(25,"div",20),r(26),n()(),e(27,"div",21),o(28,"img",22),n()()()()(),e(29,"div",23),o(30,"router-outlet"),n()()()),a&2&&(s(),C(i.showSidenav?1:-1),s(3),C(d(5,9,i.isHandset$)?4:-1),s(5),P(i.pageTitle),s(3),p("matTooltip",d(13,11,i.themeService.isDarkTheme$)?"Switch to light mode":"Switch to dark mode"),s(2),p("mat-symbol",d(15,13,i.themeService.isDarkTheme$)?"dark_mode":"light_mode")("ngClass",d(16,15,i.themeService.isDarkTheme$)?"dark-icon":"light-icon"),s(10),P(i.accountName),s(2),E("FLSS ",i.accountRole,"istrator"),s(3),p("ngClass",D(17,ye,i.isReportsView)))},dependencies:[H,B,z,G,V,F,U,ve,pe,ie,ne,ge,de,me,le,Oe,Ce,Me,_e,ue,se,ce,J,Y,Z,X,ee],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;border:0;box-sizing:border-box}.sidenav-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:var(--admin-bg);transition:background-color .3s ease}.sidenav-bar[_ngcontent-%COMP%]{transition:background-color .3s ease;width:16rem;background-color:var(--admin-bg);padding:var(--spacing-sm) var(--spacing-md);-webkit-user-select:none;user-select:none}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--spacing-md);padding:var(--spacing-lg) var(--spacing-md)}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0;text-align:center;line-height:var(--line-height-mdx)}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]   .university-name[_ngcontent-%COMP%], .sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]   .system-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:var(--font-size-sm);font-weight:600}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]   .university-name[_ngcontent-%COMP%]{color:var(--primary-text)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:none;gap:var(--spacing-xs)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .list-subheader[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-one);padding:0 var(--spacing-md) var(--spacing-xs) var(--spacing-md)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{transition:transform var(--duration-medium) ease;width:calc(100% - 3px)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{transform:translate(3px)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .active-link[_ngcontent-%COMP%]{background-color:var(--primary-one);transition:background-color var(--duration-long) ease,transform var(--duration-medium) ease}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .active-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .active-link[_ngcontent-%COMP%]:hover{transform:translate(3px)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mat-mdc-list-item.active-link[_ngcontent-%COMP%]:focus, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mat-mdc-list-item.active-link[_ngcontent-%COMP%]:focus-visible, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mat-mdc-list-item.active-link[_ngcontent-%COMP%]:before, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mat-mdc-list-item.active-link[_ngcontent-%COMP%]:after, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mdc-list-item.mdc-list-item--activated[_ngcontent-%COMP%]:focus, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mdc-list-item.mdc-list-item--activated[_ngcontent-%COMP%]:focus-visible, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mdc-list-item.mdc-list-item--activated[_ngcontent-%COMP%]:before, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mdc-list-item.mdc-list-item--activated[_ngcontent-%COMP%]:after{background-color:var(--primary-one)}.sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--spacing-md);min-height:100%;padding:var(--spacing-lg);box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:3;background:none;padding:0}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .toggle-button-container[_ngcontent-%COMP%]{padding:0 var(--spacing-lg) 0 0}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;gap:0;width:inherit}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:0;background:linear-gradient(315deg,var(--gradient-light-start) 0%,var(--gradient-light-end) 100%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-family:Inter Tight,Helvetica Neue,sans-serif;height:100%;width:max-content;font-size:var(--font-size-2xxl);font-weight:600}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:center;gap:var(--spacing-sm)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-settings[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:var(--spacing-sm)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-settings[_ngcontent-%COMP%]   .panel-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:0;background-color:var(--neutral-option);border-radius:50%;padding:var(--spacing-smx);cursor:pointer}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-settings[_ngcontent-%COMP%]   .panel-button[_ngcontent-%COMP%]   .light-icon[_ngcontent-%COMP%]{color:var(--primary-one);-webkit-user-select:none;user-select:none}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-settings[_ngcontent-%COMP%]   .panel-button[_ngcontent-%COMP%]   .dark-icon[_ngcontent-%COMP%]{color:var(--secondary-text);-webkit-user-select:none;user-select:none}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-settings[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--neutral-base)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-account[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center;justify-content:center;gap:var(--spacing-sm);font-size:var(--font-size-smx);background-color:var(--neutral-option);border-radius:var(--border-radius-xl);padding:0 var(--spacing-md) 0 var(--spacing-xs)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-account[_ngcontent-%COMP%]   .account-text[_ngcontent-%COMP%]{text-align:left;line-height:var(--line-height-sm)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-account[_ngcontent-%COMP%]   .account-text[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{font-weight:500}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-account[_ngcontent-%COMP%]   .account-text[_ngcontent-%COMP%]   .account-role[_ngcontent-%COMP%]{opacity:var(--opacity-semi-opaque)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:0;position:relative}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .admin-panel[_ngcontent-%COMP%]   .admin-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .profile-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:50%;-webkit-user-select:none;user-select:none}.sidenav-content[_ngcontent-%COMP%]   .sidenav-main[_ngcontent-%COMP%]{transition:background-color .3s ease;-ms-overflow-style:none;scrollbar-width:none;flex:1;background-color:var(--main-bg);border-radius:var(--border-radius-lg);padding:var(--spacing-lg);width:100%;box-shadow:var(--shadow-level-0);overflow:auto}.sidenav-content[_ngcontent-%COMP%]   .sidenav-main[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.sidenav-content[_ngcontent-%COMP%]   .sidenav-main.reports-view[_ngcontent-%COMP%]{padding:var(--spacing-lg) var(--spacing-lg) var(--spacing-xs) var(--spacing-lg)}@media (max-width: 800px){.sidenav-content[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.sidenav-content[_ngcontent-%COMP%]   .sidenav-main[_ngcontent-%COMP%]{background:none}}"],data:{animation:[oe,re]}})}return c})();export{ot as MainComponent};
