import{e as ae}from"./chunk-UI373YL4.js";import{n as U,q as W,r as X,t as Z,u as ee,v as te,w as ne,y as ie,z as oe}from"./chunk-OJYR24EB.js";import{a as K,b as Q}from"./chunk-6AWQUBPH.js";import{b as D,g as N,h as L,l as R,n as z,o as $,s as G,t as q,v as J}from"./chunk-VMH4ILIM.js";import{c as B}from"./chunk-VORQTW3B.js";import{a as I,b as j,c as H}from"./chunk-L2D7AHNW.js";import{V as A,W as V,aa as Y}from"./chunk-MXV4M2BO.js";import{k as T,t as F}from"./chunk-2T5SWUVG.js";import{$b as v,Ab as h,Bb as M,Cb as o,Db as a,Eb as y,Ib as C,Nb as g,Pb as l,Wa as i,Xa as b,Zb as d,_b as x,ac as S,gc as k,ha as O,lc as E,mb as p,pa as P,qa as _,ra as f,rb as u,xb as m,ya as s,zb as w}from"./chunk-NSU275EB.js";var ce=(t,c)=>c.key,le=(t,c,e,n)=>({"program-field":t,"year-level-field":c,"curriculum-field":e,"sections-field":n});function de(t,c){if(t&1){let e=C();o(0,"button",10),g("click",function(){_(e);let r=l(2).$implicit,re=l();return f(re.onClearSearch(r.key))}),o(1,"mat-icon"),d(2,"close"),a()()}}function me(t,c){if(t&1&&(o(0,"mat-form-field",5)(1,"mat-label"),d(2),a(),y(3,"input",7),o(4,"mat-icon",8),d(5,"search"),a(),p(6,de,3,0,"button",9),a()),t&2){let e,n=l().$implicit,r=l();i(2),x(n.label),i(),u("formControlName",n.key)("placeholder",n.placeholder||""),i(3),m((e=r.form.get(n.key))!=null&&e.value&&((e=r.form.get(n.key))==null?null:e.value.length)>0?6:-1)}}function se(t,c){if(t&1&&(o(0,"mat-option",12),d(1),a()),t&2){let e=c.$implicit;u("value",e),i(),v(" ",e," ")}}function pe(t,c){if(t&1){let e=C();o(0,"mat-option",13),g("click",function(){_(e);let r=l(3);return f(r.onAddAcademicYearClick())}),d(1," Add Academic Year "),a()}}function ue(t,c){if(t&1&&(o(0,"mat-form-field",6)(1,"mat-label"),d(2),a(),o(3,"mat-select",11),h(4,se,2,2,"mat-option",12,w),p(6,pe,2,0,"mat-option"),a()()),t&2){let e=l().$implicit;u("ngClass",E(4,le,e.key==="program",e.key==="yearLevel",e.key==="curriculum",e.key==="section")),i(2),x(e.label),i(),u("formControlName",e.key),i(),M(e.options),i(2),m(e.key==="academicYear"?6:-1)}}function _e(t,c){if(t&1&&p(0,me,7,4,"mat-form-field",5)(1,ue,7,9,"mat-form-field",6),t&2){let e=c.$implicit;m(e.type==="text"?0:-1),i(),m(e.type==="select"?1:-1)}}function fe(t,c){if(t&1){let e=C();o(0,"div",14),g("click",function(){_(e);let r=l();return f(r.onActiveYearSemClick())}),o(1,"p",15),d(2),a(),o(3,"p",16),d(4,"Active Year & Semester"),a()()}if(t&2){let e=l();i(2),S("A.Y. ",e.activeYear,", ",e.activeSemester,"")}}function Ce(t,c){if(t&1){let e=C();o(0,"button",19),g("click",function(){_(e);let r=l(2);return f(r.onExport())}),o(1,"mat-icon"),d(2,"picture_as_pdf"),a(),d(3," Export to PDF "),a()}}function ge(t,c){if(t&1){let e=C();o(0,"button",20),g("click",function(){_(e);let r=l(2);return f(r.onAdd())}),o(1,"mat-icon"),d(2),a(),d(3),a()}if(t&2){let e=l(2);u("disabled",e.buttonDisabled),i(2),x(e.addIconName),i(),v(" ",e.addButtonLabel," ")}}function xe(t,c){if(t&1&&(o(0,"div",4),p(1,Ce,4,0,"button",17)(2,ge,4,3,"button",18),a()),t&2){let e=l();i(),m(e.showExportButton?1:-1),i(),m(e.showAddButton?2:-1)}}var Re=(()=>{class t{fb;dialog;inputFields=[];addButtonLabel="Add";addIconName="add";buttonDisabled=!1;showExportButton=!0;showExportDialog=!1;showAddButton=!0;showActiveYearAndSem=!1;showButtons=!0;selectedValues={};customExportOptions=null;searchLabel="Search";activeYear="";activeSemester="";add=new s;inputChange=new s;export=new s;search=new s;activeYearSemClick=new s;addAcademicYear=new s;form;constructor(e,n){this.fb=e,this.dialog=n,this.form=this.fb.group({})}ngOnInit(){this.initializeForm()}ngOnChanges(e){(e.inputFields||e.selectedValues)&&this.initializeForm()}initializeForm(){this.form=this.fb.group({}),this.inputFields.forEach(e=>{let n=this.selectedValues[e.key]!==void 0?this.selectedValues[e.key]:"";this.form.addControl(e.key,this.fb.control(n))}),this.form.valueChanges.subscribe(e=>{this.inputChange.emit(e)})}onAdd(){this.add.emit()}onExport(){this.showExportDialog?this.dialog.open(ae,{data:{isExportDialog:!0,customExportOptions:this.customExportOptions},disableClose:!0}).afterClosed().subscribe(n=>{n&&this.export.emit(n)}):this.export.emit(void 0)}onActiveYearSemClick(){this.activeYearSemClick.emit()}onAddAcademicYearClick(){this.addAcademicYear.emit()}onClearSearch(e){this.form.get(e)?.setValue(""),this.inputChange.emit(this.form.value)}static \u0275fac=function(n){return new(n||t)(b(q),b(B))};static \u0275cmp=O({type:t,selectors:[["app-table-header"]],inputs:{inputFields:"inputFields",addButtonLabel:"addButtonLabel",addIconName:"addIconName",buttonDisabled:"buttonDisabled",showExportButton:"showExportButton",showExportDialog:"showExportDialog",showAddButton:"showAddButton",showActiveYearAndSem:"showActiveYearAndSem",showButtons:"showButtons",selectedValues:"selectedValues",customExportOptions:"customExportOptions",searchLabel:"searchLabel",activeYear:"activeYear",activeSemester:"activeSemester"},outputs:{add:"add",inputChange:"inputChange",export:"export",search:"search",activeYearSemClick:"activeYearSemClick",addAcademicYear:"addAcademicYear"},standalone:!0,features:[P,k],decls:7,vars:3,consts:[[1,"header-container"],[1,"input-container",3,"formGroup"],[1,"object-container"],["matRipple","",1,"active-year-sem-container","pop"],[1,"button-container"],["appearance","fill","subscriptSizing","dynamic",1,"search-field"],["appearance","fill","subscriptSizing","dynamic",1,"select-field",3,"ngClass"],["maxlength","50","matInput","",3,"formControlName","placeholder"],["matPrefix",""],["mat-icon-button","","matSuffix",""],["mat-icon-button","","matSuffix","",3,"click"],[3,"formControlName"],[3,"value"],[3,"click"],["matRipple","",1,"active-year-sem-container","pop",3,"click"],[1,"text"],[1,"label"],["mat-flat-button","",1,"ter-ripple","custom-mat-button","export-button"],["mat-flat-button","",1,"custom-mat-button","add-button",3,"disabled"],["mat-flat-button","",1,"ter-ripple","custom-mat-button","export-button",3,"click"],["mat-flat-button","",1,"custom-mat-button","add-button",3,"click","disabled"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"form",1),h(2,_e,2,2,null,null,ce),a(),o(4,"div",2),p(5,fe,5,2,"div",3),a(),p(6,xe,3,2,"div",4),a()),n&2&&(i(),u("formGroup",r.form),i(),M(r.inputFields),i(3),m(r.showActiveYearAndSem?5:-1),i(),m(r.showButtons?6:-1))},dependencies:[F,T,Q,K,H,I,j,ee,Z,U,W,X,oe,ie,V,A,J,R,D,N,L,G,z,$,ne,te,Y],styles:[".header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;gap:0;transition:background-color .3s ease;padding-bottom:var(--spacing-sm)}.header-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:var(--spacing-md)}.header-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:auto;flex:1}.header-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .program-field[_ngcontent-%COMP%]{width:auto;flex:2}.header-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .year-level-field[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .sections-field[_ngcontent-%COMP%]{width:auto;flex:1}.header-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .sections-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}.header-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .curriculum-field[_ngcontent-%COMP%]{width:auto}.header-container[_ngcontent-%COMP%]   .object-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:center;gap:0}.header-container[_ngcontent-%COMP%]   .object-container[_ngcontent-%COMP%]   .active-year-sem-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:var(--spacing-xxs);background:linear-gradient(315deg,var(--gradient-light-start) 0%,var(--gradient-light-end) 100%);padding:0 var(--spacing-md);border-radius:var(--border-radius-md);color:#fff;cursor:pointer}.header-container[_ngcontent-%COMP%]   .object-container[_ngcontent-%COMP%]   .active-year-sem-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .object-container[_ngcontent-%COMP%]   .active-year-sem-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin:0;padding:0;border:0;box-sizing:border-box}.header-container[_ngcontent-%COMP%]   .object-container[_ngcontent-%COMP%]   .active-year-sem-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-weight:500}.header-container[_ngcontent-%COMP%]   .object-container[_ngcontent-%COMP%]   .active-year-sem-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{opacity:var(--opacity-semi-opaque)}.header-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;gap:0;gap:var(--spacing-md)}.header-container[_ngcontent-%COMP%]   .custom-mat-button[_ngcontent-%COMP%]{color:#fff}.header-container[_ngcontent-%COMP%]   .export-button[_ngcontent-%COMP%]{background-color:var(--neutral-button)}@media screen and (max-width: 1275px){.header-container[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]   .object-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:space-between;gap:var(--spacing-md)}.header-container[_ngcontent-%COMP%]   .object-container[_ngcontent-%COMP%]   .active-year-sem-container[_ngcontent-%COMP%]{padding:var(--spacing-sm)!important}}"]})}return t})();export{Re as a};
