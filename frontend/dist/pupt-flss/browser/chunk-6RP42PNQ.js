import{a as h}from"./chunk-4PVBTZWC.js";import{a as l}from"./chunk-SUK6Z7P5.js";import{d as a}from"./chunk-RU375CWH.js";import{a as u}from"./chunk-SB5MWYDA.js";import{Z as n,ca as i}from"./chunk-NSU275EB.js";var R=(()=>{class r{router;cookieService;authService;roleService;constructor(e,t,c,o){this.router=e,this.cookieService=t,this.authService=c,this.roleService=o}canActivate(e,t){let c=this.authService.getToken(),o=this.cookieService.get("user_role")||"",s=e.data.role;return c?s&&!this.roleService.hasRequiredRole(o,s)?this.router.createUrlTree(["/forbidden"]):this.isLoginRoute(e)?this.roleService.getHomeUrlForRole(o):!0:this.isLoginRoute(e)?!0:this.router.createUrlTree(["/login"])}isLoginRoute(e){return e.routeConfig?.path==="login"}static \u0275fac=function(t){return new(t||r)(i(a),i(u),i(l),i(h))};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{R as a};
