import{a as it,b as ot,c as at,d as rt,e as ct,f as st,g as lt,h as dt,i as mt,j as gt,k as pt}from"./chunk-QZETGUY6.js";import"./chunk-VMH4ILIM.js";import{a as et,b as nt}from"./chunk-6AWQUBPH.js";import{a as b}from"./chunk-HZKDOO2A.js";import{c as J}from"./chunk-VORQTW3B.js";import"./chunk-FVBRAVME.js";import{b as K,c as W}from"./chunk-L2D7AHNW.js";import"./chunk-POHCU53O.js";import{a as X}from"./chunk-RIFQ5WEN.js";import{a as Z,b as tt}from"./chunk-6QI4QBU5.js";import"./chunk-DXFFT4B6.js";import{a as q}from"./chunk-UJ255QIO.js";import{t as F,u as G}from"./chunk-MXV4M2BO.js";import"./chunk-4N6BO7AP.js";import{a as Y}from"./chunk-SUK6Z7P5.js";import{a as V,b as z,c as B,d as H,e as N,f as $,h as U}from"./chunk-RU375CWH.js";import"./chunk-KXJUWRJT.js";import{a as Q}from"./chunk-SB5MWYDA.js";import"./chunk-EMZRNCIP.js";import"./chunk-DKHW3YWA.js";import{r as R,t as j}from"./chunk-2T5SWUVG.js";import{$b as D,Cb as e,Db as i,Eb as c,Ib as O,Nb as u,P as y,Pb as d,Tb as T,Ub as I,Vb as A,Wa as s,Xa as l,Zb as o,_b as h,da as k,gc as E,ha as S,mb as C,mc as m,nc as g,p as w,qa as v,qb as L,ra as _,rb as P,xb as M,z as x}from"./chunk-NSU275EB.js";import"./chunk-ODN5LVDJ.js";var _t=["drawer"];function Ct(r,f){if(r&1&&(e(0,"mat-sidenav",2,0),m(2,"async"),m(3,"async"),m(4,"async"),e(5,"div",17),c(6,"img",18),e(7,"div",19)(8,"div",20),o(9,"PUP TAGUIG"),i(),e(10,"div",21),o(11,"FACULTY LOADING"),c(12,"br"),o(13,"& SCHEDULING"),i()()(),e(14,"mat-nav-list",22)(15,"div",23)(16,"h4",24),o(17,"Dashboard"),i(),e(18,"a",25),c(19,"span",26),e(20,"span",27),o(21,"Dashboard"),i()()(),e(22,"div",23)(23,"h4",24),o(24,"Management"),i(),e(25,"a",28),c(26,"span",29),e(27,"span",27),o(28,"Manage Admin"),i()(),e(29,"a",30),c(30,"span",31),e(31,"span",27),o(32,"Manage Faculty"),i()()(),e(33,"div",23)(34,"h4",24),o(35,"Maintenance"),i(),e(36,"a",32),c(37,"span",33),e(38,"span",27),o(39,"Curriculum"),i()(),e(40,"a",34),c(41,"span",35),e(42,"span",27),o(43,"Programs"),i()(),e(44,"a",36),c(45,"span",37),e(46,"span",27),o(47,"Rooms"),i()()()()()),r&2){let t=d();P("@slideInAnimation",void 0)("mode",g(2,4,t.isHandset$)?"push":"side")("opened",g(3,6,t.isHandset$)===!1),L("role",g(4,8,t.isHandset$)?"dialog":"navigation")}}function Mt(r,f){if(r&1){let t=O();e(0,"div",5)(1,"button",38),u("click",function(){v(t);let a=d();return _(a.drawer.toggle())}),e(2,"mat-icon",39),o(3,"menu"),i()()()}}function Pt(r,f){if(r&1){let t=O();e(0,"div",15)(1,"span",40),u("click",function(){v(t);let a=d();return _(a.toggleTheme())}),c(2,"span",41),m(3,"async"),o(4," Switch Theme "),i(),e(5,"span",42),u("click",function(){v(t);let a=d();return _(a.logout())}),c(6,"span",43),o(7," Logout "),i()()}if(r&2){let t=d();s(2),P("mat-symbol",g(3,1,t.themeService.isDarkTheme$)?"light_mode":"dark_mode")}}var qt=(()=>{class r{themeService;router;route;authService;dialog;cookieService;drawer;breakpointObserver=k(F);showSidenav=!1;isDropdownOpen=!1;pageTitle="Dashboard";accountName;accountRole;routeTitleMap={dashboard:"Dashboard",programs:"Programs",courses:"Courses",curriculum:"Curriculum",rooms:"Rooms","manage-admin":"Manage Admin","manage-faculty":"Manage Faculty"};isHandset$=this.breakpointObserver.observe(G.Handset).pipe(w(t=>t.matches),y());constructor(t,n,a,p,ut,vt){this.themeService=t,this.router=n,this.route=a,this.authService=p,this.dialog=ut,this.cookieService=vt,this.accountName=this.cookieService.get("user_name"),this.accountRole=this.toTitleCase(this.cookieService.get("user_role"))}ngOnInit(){this.router.events.pipe(x(t=>t instanceof V)).subscribe(()=>this.setPageTitle()),this.setPageTitle()}ngAfterViewInit(){setTimeout(()=>this.showSidenav=!0,0)}toggleTheme(){this.themeService.toggleTheme()}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}toTitleCase(t){return t.charAt(0).toUpperCase()+t.slice(1)}setPageTitle(){let t=this.findDeepestChild(this.route),n=t?.snapshot.data.pageTitle||this.routeTitleMap[this.router.url.split("/").pop()||""]||"Dashboard";this.pageTitle=t?.snapshot.data.curriculumYear?`${n} ${t.snapshot.data.curriculumYear}`:n}findDeepestChild(t){let n=t.firstChild;for(;n?.firstChild;)n=n.firstChild;return n}logout(){this.dialog.open(b,{data:{title:"Log Out",content:"Are you sure you want to log out? This will end your current session.",actionText:"Log Out",cancelText:"Cancel",action:"Log Out"},disableClose:!0,panelClass:"dialog-base"}).afterClosed().subscribe(n=>{n==="Log Out"&&this.showLoadingAndLogout()})}showLoadingAndLogout(){let t=this.dialog.open(b,{data:{title:"Logging Out",content:"Currently logging you out...",showProgressBar:!0},disableClose:!0});this.authService.logout().subscribe({next:()=>{this.cookieService.deleteAll("/"),t.close(),this.router.navigate(["/login"])},error:n=>{console.error("Logout failed",n),t.close()}})}static \u0275fac=function(n){return new(n||r)(l(X),l(H),l(z),l(Y),l(J),l(Q))};static \u0275cmp=S({type:r,selectors:[["app-main"]],viewQuery:function(n,a){if(n&1&&T(_t,5),n&2){let p;I(p=A())&&(a.drawer=p.first)}},standalone:!0,features:[E],decls:21,vars:8,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav-bar",3,"mode","opened"],[1,"sidenav-content"],[1,"main-toolbar"],[1,"toggle-button-container"],[1,"sidenav-header"],[1,"title-container"],[1,"page-title"],[1,"header-account"],[1,"account-text"],[1,"account-name"],[1,"account-role"],[1,"profile-dropdown"],["src","assets/images/default_superadmin_icon.png","alt","Profile Icon","matTooltip","Click to open settings","matTooltipPosition","below",1,"profile-icon",3,"click"],[1,"dropdown-menu"],[1,"sidenav-main"],[1,"side-toolbar"],["src","../../../../../assets/images/pup_taguig_logo.svg","alt","PUP Taguig Logo",1,"side-toolbar-img"],[1,"header-name"],[1,"university-name"],[1,"system-name"],[1,"navbar-list"],[1,"group"],[1,"list-subheader"],["mat-list-item","","routerLink","/superadmin/dashboard","routerLinkActive","active-link",1,"list-item"],["mat-symbol","dashboard","matListItemIcon",""],["matListItemTitle",""],["mat-list-item","","routerLink","/superadmin/admin","routerLinkActive","active-link",1,"list-item"],["mat-symbol","admin_panel_settings","matListItemIcon",""],["mat-list-item","","routerLink","/superadmin/faculty","routerLinkActive","active-link",1,"list-item"],["mat-symbol","groups","matListItemIcon",""],["mat-list-item","","routerLink","/superadmin/curriculum","routerLinkActive","active-link",1,"list-item"],["mat-symbol","list_alt","matListItemIcon",""],["mat-list-item","","routerLink","/superadmin/programs","routerLinkActive","active-link",1,"list-item"],["mat-symbol","school","matListItemIcon",""],["mat-list-item","","routerLink","/superadmin/rooms","routerLinkActive","active-link",1,"list-item"],["mat-symbol","meeting_room","matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button","",1,"toggle-button",3,"click"],["aria-label","Side nav toggle icon"],[1,"dropdown-item",3,"click"],[3,"mat-symbol"],[1,"dropdown-item","logout",3,"click"],["mat-symbol","logout"]],template:function(n,a){n&1&&(e(0,"mat-sidenav-container",1),C(1,Ct,48,10,"mat-sidenav",2),e(2,"mat-sidenav-content",3)(3,"mat-toolbar",4),C(4,Mt,4,0,"div",5),m(5,"async"),e(6,"header",6)(7,"div",7)(8,"h2",8),o(9),i()(),e(10,"div",9)(11,"div",10)(12,"div",11),o(13),i(),e(14,"div",12),o(15),i()(),e(16,"div",13)(17,"img",14),u("click",function(){return a.toggleDropdown()}),i(),C(18,Pt,8,3,"div",15),i()()()(),e(19,"div",16),c(20,"router-outlet"),i()()()),n&2&&(s(),M(a.showSidenav?1:-1),s(3),M(g(5,6,a.isHandset$)?4:-1),s(5),h(a.pageTitle),s(4),h(a.accountName),s(2),D("PUPT-FLSS ",a.accountRole,""),s(3),M(a.isDropdownOpen?18:-1))},dependencies:[j,R,U,B,N,$,st,ct,W,K,rt,ot,at,it,pt,gt,mt,dt,lt,nt,et,q],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;border:0;box-sizing:border-box}.sidenav-container[_ngcontent-%COMP%]{height:100%;background-color:var(--main-bg);transition:background-color .3s ease}.sidenav-bar[_ngcontent-%COMP%]{width:16rem;background-color:var(--neutral-sidebar);padding:var(--spacing-sm) var(--spacing-md);transition:background-color .3s ease}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--spacing-md);padding:var(--spacing-lg) var(--spacing-md)}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0;text-align:center;line-height:var(--line-height-mdx)}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]   .university-name[_ngcontent-%COMP%], .sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]   .system-name[_ngcontent-%COMP%]{font-family:var(--font-header);font-size:var(--font-size-sm);font-weight:600}.sidenav-bar[_ngcontent-%COMP%]   .side-toolbar[_ngcontent-%COMP%]   .header-name[_ngcontent-%COMP%]   .university-name[_ngcontent-%COMP%]{color:var(--primary-text)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:none;gap:var(--spacing-lg)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .list-subheader[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-one);padding:0 var(--spacing-md) var(--spacing-xs) var(--spacing-md)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{transition:transform var(--duration-medium) ease;width:calc(100% - 3px)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{transform:translate(3px)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .active-link[_ngcontent-%COMP%]{background-color:var(--primary-one);transition:background-color var(--duration-long) ease,transform var(--duration-medium) ease}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .active-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .active-link[_ngcontent-%COMP%]:hover{transform:translate(3px)}.sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mat-mdc-list-item.active-link[_ngcontent-%COMP%]:focus, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mat-mdc-list-item.active-link[_ngcontent-%COMP%]:focus-visible, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mat-mdc-list-item.active-link[_ngcontent-%COMP%]:before, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mat-mdc-list-item.active-link[_ngcontent-%COMP%]:after, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mdc-list-item.mdc-list-item--activated[_ngcontent-%COMP%]:focus, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mdc-list-item.mdc-list-item--activated[_ngcontent-%COMP%]:focus-visible, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mdc-list-item.mdc-list-item--activated[_ngcontent-%COMP%]:before, .sidenav-bar[_ngcontent-%COMP%]   .navbar-list[_ngcontent-%COMP%]   .mdc-list-item.mdc-list-item--activated[_ngcontent-%COMP%]:after{background-color:var(--primary-one)}.sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:none;justify-content:none;gap:var(--spacing-xl);padding:var(--spacing-2xl);height:100%}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:4;background:none;padding:0}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .toggle-button-container[_ngcontent-%COMP%]{padding:0 var(--spacing-lg) 0 0}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;gap:0;width:inherit}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:0;background:linear-gradient(315deg,var(--gradient-light-start) 0%,var(--gradient-light-end) 100%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-family:Inter Tight,Helvetica Neue,sans-serif;height:100%;width:max-content;font-size:var(--font-size-2xxl);font-weight:600}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:0;font-size:var(--font-size-md);gap:var(--spacing-lg)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .account-text[_ngcontent-%COMP%]{text-align:right;line-height:var(--line-height-md)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .account-text[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{font-weight:600}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .account-text[_ngcontent-%COMP%]   .account-role[_ngcontent-%COMP%]{opacity:var(--opacity-semi-opaque)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:0;position:relative}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .profile-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:50%;cursor:pointer;transition:all .3s ease}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .profile-icon[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 3px var(--neutral-hover)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:var(--neutral-light);box-shadow:var(--shadow-level-1);border-radius:var(--border-radius-md)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-md);color:var(--neutral-base);transition:background-color .3s ease;border-radius:var(--border-radius-sm);font-weight:500;cursor:pointer}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:var(--neutral-option)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout[_ngcontent-%COMP%], .sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout[_ngcontent-%COMP%]   span.material-symbols-rounded[_ngcontent-%COMP%]{color:var(--primary-text)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.logout[_ngcontent-%COMP%]:hover{background-color:var(--primary-fade)}.sidenav-content[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .header-account[_ngcontent-%COMP%]   .profile-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span.material-symbols-rounded[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:var(--font-size-lg);font-weight:500}.sidenav-content[_ngcontent-%COMP%]   .sidenav-main[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;height:inherit;overflow:auto}.sidenav-content[_ngcontent-%COMP%]   .sidenav-main[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"],data:{animation:[Z,tt]}})}return r})();export{qt as MainComponent};
